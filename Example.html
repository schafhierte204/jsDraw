<!DOCTYPE=html>
<html>
    <head>
        <meta charset=utf-8>
        <title>Line Drawer</title>
        <script src="./jsDraw.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <style>
.active{
    border-color:blue;
}
        </style>
    </head>
    <body>
        <form id="formular" style="border:solid black 2px">
            <table cellspacing="0">
                <tr align="right" style="border: solid black 10px">
                    <td><input type="button" value="Rectangle" onclick="change(&quot;Rectangle&quot;)"></td>
                    <td><input type="button" value="Circle" onclick="change(&quot;Circle&quot;)"></td>
                    <td><input type="button" value="Image" onclick="change(&quot;Image&quot)"></td>
                </tr>
                <tr align="right" id="Properties">
                    <td id ="Color">Farbe:<input name="dp_co" type="color" value="#ff0000" onchange="changeColor()"></td>
                    <td id ="BorderThgickness">RandBreite:<input name="dp_bw" type="text" size="5" maxlength="4" value="0" onchange="changeBorderThickness()">&nbsp;</td>
                    <td id ="BorderColor">RandFarbe:<input name="dp_bcol" type="color" value="#000000" onchange="changeBorderColor()"></td>
                    <td id ="BorderRadius">RandAbrundung:<input name="dp_brad" type="text" size="5" maxlength="4" value="0" onchange="changeBorderRadius()">&nbsp;</td>
                    <td id ="img" >Bild:<input name="img" type="file" onchange="changeImage()">&nbsp;</td>
                </tr>
                <tr align="right">
                    <td><input type="button" value="remove All" onclick="myGraph.remove()"></td>
                </tr>
            </table>
        </form>
        <div id="Canvas" style="position:relative;width:100%;height:20000px;border:solid black 2px">
        </div>
        <script type="text/javascript">
            //<!--
            //disable dragging of drawn components
            var f = document.forms[0];
            var EnRectangle = [0,1,2,3,4,5];
            var EnCircle = [0,2,3,4];
            $("#img").hide();
            $("#Canvas").on('dragstart', function(event) { event.preventDefault(); });
            //create grafic object
            var myGraph = new Graphics($("#Canvas"), f.dp_co.value, parseInt(f.dp_brad.value), f.dp_bcol.value, parseInt(f.dp_bw.value));

            var Properties = document.getElementById("Properties")
            function changeColor(){
                myGraph.setColor(f.dp_co.value);
            }
            function changeBorderThickness(){
                myGraph.setBorderWidth(parseInt(f.dp_bw.value));
            }
            function changeBorderRadius(){
                myGraph.setBorderRadius(parseInt(f.dp_brad.value)); 
            }
            function changeBorderColor(){
                myGraph.setBorderColor(f.dp_bcol.value);
            }
            function changeImage(){
                myGraph.setImage(f.img.value);
            }
            //change tabs (wip)
            function change(result){
                myGraph.setState(result);
                switch(result){
                    case "Circle":
                    case "Rectangle":
                        $("#img").hide();
                        $("#Color").show();
                        break;
                    case "Image":
                        $("#Color").hide();
                        $("#img").show();
                        break;
                }
            }
            //-->
        </script>
    </body>
</html>
